# ============================================================================
# THERAPEUTIC CLASSIFICATION & INTERACTIONS
# ============================================================================

"""
Therapeutic class hierarchy.
"""
type TherapeuticClass @table {
  id: UUID! @default(expr: "uuidV4()")
  name: String! @col(dataType: "varchar(255)")
  code: String! @col(dataType: "varchar(50)")
  description: String @col(dataType: "text")
  parentClass: TherapeuticClass
  parentClassId: UUID
}

"""
Therapeutic subclass.
"""
type TherapeuticSubclass @table {
  id: UUID! @default(expr: "uuidV4()")
  name: String! @col(dataType: "varchar(255)")
  code: String! @col(dataType: "varchar(50)")
  therapeuticClass: TherapeuticClass!
  therapeuticClassId: UUID!
}

"""
Drug interaction information.
"""
type DrugInteraction @table {
  id: UUID! @default(expr: "uuidV4()")
  product1: Product!
  product1Id: UUID!
  product2: Product!
  product2Id: UUID!
  severity: InteractionSeverity! @col(dataType: "interaction_severity")
  description: String! @col(dataType: "text")
  mechanism: String @col(dataType: "text")
  clinicalEffects: String! @col(dataType: "text")
  management: String! @col(dataType: "text")
  evidenceLevel: EvidenceLevel! @col(dataType: "evidence_level")
  references: [String!] @col(dataType: "jsonb")
  lastReviewed: Date!
}



