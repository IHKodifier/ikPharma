# ============================================================================
# LOCATIONS & ORGANIZATION
# ============================================================================

"""
Location entity for multi-location management.
Hierarchical structure: Head Office -> Regional -> Stores.
"""
type Location @table {
  id: UUID! @default(expr: "uuidV4()")
  business: Business!
  businessId: UUID!

  # Location Details
  name: String! @col(dataType: "varchar(255)")
  code: String! @col(dataType: "varchar(50)")
  type: LocationType! @col(dataType: "location_type")

  # Hierarchy
  parent: Location
  parentId: UUID

  # Address
  address: Address
  addressId: UUID

  # Contact
  phone: String @col(dataType: "varchar(20)")
  email: String @col(dataType: "varchar(255)")

  # Operations
  operatingHours: String @col(dataType: "varchar(500)")
  licenseNumber: String @col(dataType: "varchar(100)")

  # Status
  isActive: Boolean! @default(value: true)

  # Audit
  createdAt: Timestamp! @default(expr: "request.time")
  updatedAt: Timestamp! @default(expr: "request.time")
}



